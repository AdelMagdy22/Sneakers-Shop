import 'package:flutter/material.dart';

class CheckoutPage extends StatefulWidget {
    @override
    _CheckoutPageState createState() => _CheckoutPageState();
}

class _CheckoutPageState extends State<CheckoutPage> {
    TextEditingController _nameController = TextEditingController();
    TextEditingController _emailController = TextEditingController();
    TextEditingController _addressController = TextEditingController();

    void _submitForm() {
        // Perform form submission logic here
        String name = _nameController.text;
        String email = _emailController.text;
        String address = _addressController.text;

        // Example: Print the form values
        print('Name: $name');
        print('Email: $email');
        print('Address: $address');
        // Check if any field is not entered
        if (name.isEmpty || email.isEmpty || address.isEmpty) {
          // Show a dialog indicating that all fields are required
          showDialog(
            context: context,
            builder: (BuildContext context) {
              return AlertDialog(
                title: Text('Error'),
                content: Text('All fields are required!'),
                actions: [
                  TextButton(
                    child: Text('OK'),
                    onPressed: () {
                      Navigator.of(context).pop();
                    },
                  ),
                ],
              );
            },
          );
        } else {
          // Show a success dialog
          showDialog(
            context: context,
            builder: (BuildContext context) {
              return AlertDialog(
                title: Text('Success'),
                content: Text('Form submitted successfully!'),
                actions: [
                  TextButton(
                    child: Text('OK'),
                    onPressed: () {
                      Navigator.of(context).pop();
                      Navigator.of(context).pop();
                    },
                  ),
                ],
              );
            },
          );
        }
    }

    @override
    Widget build(BuildContext context) {
        return Scaffold(
            appBar: AppBar(
                title: Text('Checkout'),
            ),
            body: Padding(
                padding: const EdgeInsets.all(16.0),
                child: Column(
                    mainAxisAlignment: MainAxisAlignment.center,
                    children: [
                        Text(
                            'Checkout Page',
                            style: TextStyle(fontSize: 24),
                        ),
                        SizedBox(height: 16),
                        TextFormField(
                            controller: _nameController,
                            decoration: InputDecoration(
                                labelText: 'Name',
                                border: OutlineInputBorder(
                                    borderSide: BorderSide(
                                        color: Colors.black,
                                    ),
                                    borderRadius: BorderRadius.circular(8),
                                ),
                            ),
                        ),
                        SizedBox(height: 16),
                        TextFormField(
                            controller: _emailController,
                            decoration: InputDecoration(
                                labelText: 'Email',
                                border: OutlineInputBorder(
                                    borderSide: BorderSide(
                                        color: Colors.black,
                                    ),
                                    borderRadius: BorderRadius.circular(8),
                                ),
                            ),
                        ),
                        SizedBox(height: 16),
                        TextFormField(
                            controller: _addressController,
                            decoration: InputDecoration(
                                labelText: 'Address',
                                border: OutlineInputBorder(
                                    borderSide: BorderSide(
                                        color: Colors.black,
                                    ),
                                    borderRadius: BorderRadius.circular(8),
                                ),
                            ),
                        ),
                        SizedBox(height: 16),
                        ElevatedButton(
                            onPressed: _submitForm,
                            child: Text('Submit', style: TextStyle(color: Theme.of(context).colorScheme.onPrimary),),
                            style: ElevatedButton.styleFrom(
                                padding: EdgeInsets.symmetric(horizontal: 32, vertical: 16),
                                backgroundColor: Theme.of(context).colorScheme.primary,
                            ),
                            
                        ),
                    ],
                ),
            ),
        );
    }
}

